<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MindCraft | Grade 11 Coding Lessons</title>

<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<link rel="stylesheet" href="Main/Design/Position.css">
<link rel="stylesheet" href="Main/Design/levels.css">
<link rel="stylesheet" href="Main/Design/global_size-FIX.css">

<style>
/* === Global Resets === */
body {
┬а font-family: 'Press Start 2P', cursive;
┬а color: #fff;
┬а margin: 0;
┬а overflow-x: hidden;
┬а position: relative;
┬а transition: background 1s, color 1s;
┬а min-height: 100vh;
}

/* ===== Environment Elements (Controlled by JavaScript) ===== */
#sky {
┬а position: fixed;
┬а top: 0; left: 0;
┬а width: 100%; height: 100%;
┬а z-index: -3;
┬а /* Initial background is set by JS function call at the bottom */
┬а transition: background 2s;
}

#sun, #moon {
┬а position: fixed;
┬а right: 10%;
┬а width: clamp(60px, 10vw, 80px); /* Responsive size */
┬а height: clamp(60px, 10vw, 80px);
┬а border-radius: 50%;
┬а transition: all 2s ease-in-out;
┬а z-index: -2;
}

#moon {
┬а box-shadow: 0 0 15px #fff;
}

#stars {
┬а position: fixed;
┬а width: 100%;
┬а height: 100%;
┬а background: url('Main/Assets/Backgrounds/stars.png') repeat;
┬а background-size: cover;
┬а transition: opacity 2s;
┬а z-index: -1;
┬а animation: twinkle 6s linear infinite;
}
@keyframes twinkle {
┬а 0%, 100% { opacity: 0.7; }
┬а 50% { opacity: 1; }
}

/* === Background Characters === */
.bg-character {
┬а position: absolute;
┬а bottom: clamp(5vh, 8vh, 10vh); /* Responsive bottom placement */
┬а width: 90px;
┬а height: 330px;
┬а background: url('Main/Assets/Characters/hero_sheet.png') no-repeat;
┬а background-size: 800% 100%;
┬а image-rendering: pixelated;
┬а animation: walkAnim 1s steps(8) infinite;
┬а z-index: -1;
┬а opacity: 0.9;
}

@keyframes walkAnim {
┬а from { background-position: 0; }
┬а to { background-position: -800%; }
}

/* ===== Header & Layout (Responsive) ===== */
header {
┬а display: flex;
┬а justify-content: space-between;
┬а align-items: center;
┬а flex-wrap: wrap; /* Allows items to wrap on smaller screens */
┬а padding: 10px 15px;
┬а background: rgba(0, 0, 0, 0.5);
┬а border-bottom: 2px solid #1DB954;
}

.xp-status, .level-display, .user-actions {
┬а font-size: 0.6rem;
┬а text-align: center;
┬а margin: 5px;
}

button {
┬а font-family: 'Press Start 2P', cursive;
┬а background: #1DB954;
┬а color: #fff;
┬а border: none;
┬а border-radius: 6px;
┬а padding: 6px 10px;
┬а cursor: pointer;
┬а font-size: 0.5rem;
┬а transition: all 0.3s ease;
}
button:hover { background: #1ed760; transform: scale(1.05); }

main {
┬а text-align: center;
┬а padding: 20px 10px; /* Added horizontal padding */
}

/* === Language Grid (Core Responsiveness) === */
.language-grid {
┬а display: flex;
┬а flex-wrap: wrap;
┬а justify-content: center;
┬а gap: 25px;
┬а max-width: 1000px;
┬а margin: 0 auto;
}

.language-card {
┬а width: 100%; /* Default to full width on mobile */
┬а max-width: 280px; /* Max size for a single card */
┬а padding: 15px;
┬а border-radius: 10px;
┬а background: rgba(0, 0, 0, 0.5);
┬а box-shadow: 0 0 12px #1DB954;
┬а transition: transform 0.3s ease;
}
.language-card:hover { transform: scale(1.05); }

.language-card img {
┬а width: 60px;
┬а height: 60px;
}

.language-card select {
┬а margin-top: 10px;
┬а font-size: 0.5rem;
┬а font-family: 'Press Start 2P', cursive;
┬а padding: 5px;
┬а border-radius: 5px;
┬а background: #1DB954;
┬а color: #fff;
┬а border: none;
┬а width: 100%;
}

footer {
┬а text-align: center;
┬а font-size: 0.6rem;
┬а margin-top: 40px;
┬а padding-bottom: 10px;
}

/* ===== MEDIA QUERIES for Desktop/Tablet Layouts ===== */
@media (min-width: 768px) {
    /* Header: Keep elements aligned */
    header {
        flex-wrap: nowrap;
        justify-content: space-around;
    }
    .xp-status, .level-display, .user-actions {
        font-size: 0.7rem;
    }
    button {
        font-size: 0.6rem;
    }

    /* Language Grid: Allow three columns */
    .language-card {
        width: calc(33.33% - 25px); /* Three columns with gap consideration */
        max-width: none; /* Remove max width on larger screens */
    }
}
@media (min-width: 1024px) {
    /* Larger Font Size for large screens */
    h1 {
        font-size: 1.5rem;
    }
    .xp-status, .level-display, .user-actions {
        font-size: 0.8rem;
    }
    button {
        font-size: 0.65rem;
    }
}
</style>
</head>
<body>

<div id="sky"></div>
<div id="sun"></div>
<div id="moon"></div>
<div id="stars"></div>

<div class="bg-character" style="animation-delay: 2s;"></div>
<div class="bg-character" style="animation-delay: 5s;"></div>
<div class="bg-character" style="animation-delay: 8s;"></div>

<header>
┬а <div class="xp-status">
┬а ┬а <span>XP:</span>
┬а ┬а <progress id="xpBar" value="0" max="100"></progress>
┬а ┬а <span id="xpValue">0</span>
┬а </div>
┬а <div class="level-display">
┬а ┬а Level <span id="levelValue">1</span>
┬а </div>
┬а <div class="user-actions">
┬а ┬а <button onclick="location.href='Main/Account/account.html'">­ЪЉц Account</button>
┬а ┬а <button onclick="location.href='Main/Settings/setting.html'">РџЎ№ИЈ Settings</button>
┬а </div>
</header>

<main class="language-select">
┬а <h1>­ЪДа GRADE 11 Рђћ CHOOSE A CODING LANGUAGE</h1>
┬а <div class="language-grid">
┬а ┬а ┬а ┬а <div class="language-card">
┬а ┬а ┬а <img src="Main/Assets/Icons/html.png" alt="HTML">
┬а ┬а ┬а <p>HTML</p>
┬а ┬а ┬а <select onchange="if(this.value) window.location.href=this.value">
┬а ┬а ┬а ┬а <option value="">­ЪЊќ Select Lesson</option>
┬а ┬а ┬а ┬а <option value="Main/Modular/HTML/lesson-1.html">Lesson 1</option>
┬а ┬а ┬а ┬а <option value="Main/Modular/HTML/lesson-2.html">Lesson 2</option>
┬а ┬а ┬а </select>
┬а ┬а ┬а <select onchange="if(this.value) window.location.href=this.value">
┬а ┬а ┬а ┬а <option value="">­ЪЊЮ Select Quiz</option>
┬а ┬а ┬а ┬а <option value="Main/Levels/Quiz/HTML/level-1.html">Level 1</option>
┬а ┬а ┬а ┬а <option value="Main/Levels/Quiz/HTML/level-2.html">Level 2</option>
┬а ┬а ┬а ┬а <option value="Main/Levels/Quiz/HTML/level-3.html">Level 3</option>
┬а ┬а ┬а </select>
┬а ┬а </div>

┬а ┬а ┬а ┬а <div class="language-card">
┬а ┬а ┬а <img src="Main/Assets/Icons/css.png" alt="CSS">
┬а ┬а ┬а <p>CSS</p>
┬а ┬а ┬а <select onchange="if(this.value) window.location.href=this.value">
┬а ┬а ┬а ┬а <option value="">­ЪЊќ Select Lesson</option>
┬а ┬а ┬а ┬а <option value="Main/Modular/CSS/lesson-1.html">Lesson 1</option>
┬а ┬а ┬а ┬а <option value="Main/Modular/CSS/lesson-2.html">Lesson 2</option>
┬а ┬а ┬а </select>
┬а ┬а ┬а <select onchange="if(this.value) window.location.href=this.value">
┬а ┬а ┬а ┬а <option value="">­ЪЊЮ Select Quiz</option>
┬а ┬а ┬а ┬а <option value="Main/Levels/Quiz/CSS/level-1.html">Level 1</option>
┬а ┬а ┬а ┬а <option value="Main/Levels/Quiz/CSS/level-2.html">Level 2</option>
┬а ┬а ┬а ┬а <option value="Main/Levels/Quiz/CSS/level-3.html">Level 3</option>
┬а ┬а ┬а </select>
┬а ┬а </div>

┬а ┬а ┬а ┬а <div class="language-card">
┬а ┬а ┬а <img src="Main/Assets/Icons/js.png" alt="JavaScript">
┬а ┬а ┬а <p>JavaScript</p>
┬а ┬а ┬а <select onchange="if(this.value) window.location.href=this.value">
┬а ┬а ┬а ┬а <option value="">­ЪЊќ Select Lesson</option>
┬а ┬а ┬а ┬а <option value="Main/Modular/JS/lesson-1.html">Lesson 1</option>
┬а ┬а ┬а ┬а <option value="Main/Modular/JS/lesson-2.html">Lesson 2</option>
┬а ┬а ┬а </select>
┬а ┬а ┬а <select onchange="if(this.value) window.location.href=this.value">
┬а ┬а ┬а ┬а <option value="">­ЪЊЮ Select Quiz</option>
┬а ┬а ┬а ┬а <option value="Main/Levels/Quiz/JS/level-1.html">Level 1</option>
┬а ┬а ┬а ┬а <option value="Main/Levels/Quiz/JS/level-2.html">Level 2</option>
┬а ┬а ┬а ┬а <option value="Main/Levels/Quiz/JS/level-3.html">Level 3</option>
┬а ┬а ┬а </select>
┬а ┬а </div>
┬а </div>
</main>

<footer>
┬а <p>┬Е 2025 MindCraft | Created by Kuya AJ & Team</p>
</footer>

<script src="Main/Design/theme.js"></script>
<script src="Main/Exp/levels.js"></script>

<script>
// === Smart Character Placement ===
const chars = document.querySelectorAll('.bg-character');
chars.forEach((char, i) => {
┬а const delay = Math.random() * 15;
┬а const offset = Math.random() * 10;
┬а const direction = Math.random() > 0.5 ? 1 : -1;
┬а const duration = 20 + Math.random() * 10;

┬а char.style.bottom = `${5 + offset}vh`;
┬а char.style.animation = `walkAnim 1s steps(8) infinite, move${i} ${duration}s linear ${delay}s infinite`;

┬а const keyframes = `
┬а ┬а @keyframes move${i} {
┬а ┬а ┬а 0% { left: ${direction === 1 ? '-120px' : '100%'}; transform: scaleX(${direction}); }
┬а ┬а ┬а 50% { left: ${direction === 1 ? '100%' : '-120px'}; transform: scaleX(${direction}); }
┬а ┬а ┬а 100% { left: ${direction === 1 ? '-120px' : '100%'}; transform: scaleX(${direction}); }
┬а ┬а }`;
┬а const styleEl = document.createElement('style');
┬а styleEl.textContent = keyframes;
┬а document.head.appendChild(styleEl);
});

// === Theme Environment Function (Called by theme.js) ===
window.applyEnvironment = function(theme, animate=false) {
┬а const sky = document.getElementById('sky');
┬а const sun = document.getElementById('sun');
┬а const moon = document.getElementById('moon');
┬а const stars = document.getElementById('stars');
┬а const chars = document.querySelectorAll('.bg-character'); // Redefine chars here for theme effects
┬а if (!sky || !sun || !moon || !stars) return;

┬а if (theme === 'light') {
┬а ┬а sky.style.background = 'linear-gradient(to bottom, #87ceeb, #f5f5f5)';
┬а ┬а stars.style.opacity = 0;
┬а ┬а sun.style.opacity = 1;
┬а ┬а moon.style.opacity = 0;

┬а ┬а if (animate) sun.style.transform = 'translateY(0)';
┬а ┬а if (animate) moon.style.transform = 'translateY(120px)';
┬а ┬а┬а
┬а ┬а chars.forEach(c => c.style.filter = 'drop-shadow(0 0 8px #1DB954)');
┬а } else {
┬а ┬а sky.style.background = 'linear-gradient(to bottom, #0f2027, #203a43, #2c5364)';
┬а ┬а stars.style.opacity = 1;
┬а ┬а sun.style.opacity = 0;
┬а ┬а moon.style.opacity = 1;

┬а ┬а if (animate) sun.style.transform = 'translateY(120px)';
┬а ┬а if (animate) moon.style.transform = 'translateY(0)';
┬а ┬а┬а
┬а ┬а chars.forEach(c => c.style.filter = 'drop-shadow(0 0 10px #fff)');
┬а }
}


// === Initial Load Theme ===
const savedTheme = localStorage.getItem('theme') || 'dark';
window.applyEnvironment(savedTheme, false);


// === User Sign-in Check ===
const currentUser = localStorage.getItem('currentUser');
if (!currentUser) {
┬а alert('You must sign in first!');
┬а window.location.href = 'Main/Account/signin.html';
}

// NOTE: All XP system and storage event listeners are now handled by levels.js
</script>
</body>
</html>
