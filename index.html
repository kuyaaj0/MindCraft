<script>
/* =========================
   INITIAL STATE (ADDED)
   ========================= */
document.getElementById("authSection").style.display = "none";
document.getElementById("settingsBtn").style.display = "none";

/* =========================
   START BUTTON
   ========================= */
document.getElementById("startBtn").onclick = () => {
  document.getElementById("authSection").style.display = "flex";
  document.getElementById("settingsBtn").style.display = "inline-block";
  document.getElementById("startBtn").style.display = "none";
};

/* =========================
   SETTINGS POPUP
   ========================= */
document.getElementById("settingsBtn").onclick = () => {
  document.getElementById("settingsPopup").style.display = "flex";
};

document.getElementById("closeSettings").onclick = () => {
  document.getElementById("settingsPopup").style.display = "none";
};

/* =========================
   THEME TOGGLE (BB8)
   ========================= */
const themeSwitch = document.getElementById("themeSwitch");
const themeLabel = document.getElementById("themeLabel");

document.addEventListener("DOMContentLoaded", () => {
  themeSwitch.checked = document.body.classList.contains("dark");
  updateLabel(themeSwitch.checked);
});

themeSwitch.addEventListener("change", () => {
  document.body.classList.toggle("dark", themeSwitch.checked);
  updateLabel(themeSwitch.checked);
});

function updateLabel(isDark){
  themeLabel.textContent = isDark ? "Light Mode" : "Dark Mode";
}

/* =========================
   OPTIONAL: click outside to close
   ========================= */
document.getElementById("settingsPopup").addEventListener("click", (e) => {
  if (e.target.id === "settingsPopup") {
    document.getElementById("settingsPopup").style.display = "none";
  }
});
</script>
