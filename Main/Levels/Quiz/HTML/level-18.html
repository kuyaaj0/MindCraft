<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MindCraft CSS Lesson 18 Quiz</title>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <style>
    /* ✅ SAME WOODEN THEME */
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%;font-size:10px;overflow:hidden;}

    body{
      font-family:'Press Start 2P', cursive;
      background:linear-gradient(#87e4ff,#c8f7b0);
      padding:20px;
    }

    .quiz-container{
      max-width:1000px;
      margin:0 auto;
      height:calc(100vh - 40px);
      display:flex;
      align-items:center;
      justify-content:center;
      position:relative;
    }

    .wood-border{
      width:100%;
      max-width:900px;
      height:90vh;
      background:#8b5a2b;
      border-radius:28px;
      padding:16px;
      box-shadow:inset -8px -8px 0 rgba(0,0,0,.3),0 12px 0 #5c3a1a;
      position:relative;
    }

    .wood-border::before{
      content:'MINDCRAFT CSS QUIZ';
      position:absolute;
      top:-14px;
      left:50%;
      transform:translateX(-50%);
      background:#8b5a2b;
      padding:6px 20px;
      font-size:11px;
      color:#ffd966;
      text-shadow:2px 2px #000;
      border-radius:10px;
      box-shadow:0 4px 0 #5c3a1a;
    }

    .quiz-content{
      height:100%;
      width:100%;
      background:linear-gradient(#8fe9ff 55%, #7dd37d);
      border-radius:16px;
      padding:24px;
      box-shadow:0 20px 50px rgba(0,0,0,.3);
      display:flex;
      flex-direction:column;
      justify-content:center;
      position:relative;
      z-index:2;
    }

    .main-title{
      text-align:center;
      font-size:16px;
      text-shadow:3px 3px #fff;
      margin-bottom:20px;
      color:#006400;
    }

    .quiz-panel{
      flex:1;
      display:flex;
      flex-direction:column;
      justify-content:center;
      padding:16px;
      overflow:auto;
    }

    .top-bar{
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-bottom:20px;
      font-size:9px;
    }

    .progress{ color:#006400; font-weight:bold; }
    .timer{ color:#b8860b; font-weight:bold; }

    .question-box{
      background:#fff3cd;
      border:3px solid #c9a227;
      padding:20px;
      border-radius:12px;
      margin-bottom:24px;
      line-height:1.6;
      box-shadow:0 6px 0 #c9a227;
    }

    .question-text{font-size:11px;margin-bottom:16px;font-weight:bold;}

    .options label{
      display:block;
      margin:10px 0;
      cursor:pointer;
      font-size:9px;
    }

    .options input{
      margin-right:10px;
      transform:scale(1.3);
      accent-color:#006400;
    }

    .fill-input{
      width:100%;
      max-width:380px;
      padding:12px;
      border:3px solid #c9a227;
      background:#fff;
      border-radius:10px;
      font-family:'Press Start 2P', cursive;
      font-size:9px;
      color:#000;
      box-shadow:0 4px 0 #c9a227;
    }

    .nav-row{
      display:flex;
      justify-content:center;
      gap:16px;
      margin-top:20px;
    }

    button{
      font-family:'Press Start 2P', cursive;
      background:#a56b34;
      color:#fff;
      border:none;
      padding:12px 20px;
      border-radius:12px;
      box-shadow:inset -4px -4px 0 rgba(0,0,0,.25),0 6px 0 #5c3a1a;
      cursor:pointer;
      font-size:8px;
      transition:transform 0.1s;
      min-width:120px;
    }

    button:hover:not(:disabled){ transform:translateY(-2px); }

    button:disabled{
      opacity:0.5;
      cursor:not-allowed;
      transform:none;
      box-shadow:inset -4px -4px 0 rgba(0,0,0,.25),0 2px 0 #5c3a1a;
    }

    #nextBtn{ background:#a56b34; }
    #finishBtn{ 
      background:#d4af37; 
      box-shadow:inset -4px -4px 0 rgba(0,0,0,.25),0 6px 0 #b8860b;
      display:none;
    }
    #backBtn{
      background:#ff6b35;
      box-shadow:inset -4px -4px 0 rgba(0,0,0,.25),0 6px 0 #cc5533;
      display:none;
    }

    #resultBox{
      margin-top:24px;
      padding:20px;
      border-radius:12px;
      font-size:10px;
      text-align:center;
      display:none;
      box-shadow:0 6px 0 #6aa84f;
    }

    .result-success{
      background:#d9ead3 !important;
      border:4px solid #6aa84f !important;
      color:#006400 !important;
      display:block !important;
    }

    @media(max-width:768px){
      .quiz-container{height:auto;min-height:calc(100vh - 40px);align-items:flex-start;padding-top:20px;}
      body{ overflow:auto; padding:10px; }
      .wood-border{height:auto;min-height:80vh;border-radius:20px;padding:12px;}
      .quiz-content{ padding:18px; border-radius:12px; }
      .main-title{ font-size:14px; }
    }
  </style>
</head>

<body>
<div class="quiz-container">
  <div class="wood-border">

    <div class="quiz-content">
      <div class="main-title">
        LESSON 18<br>
        <span style="font-size:12px; font-weight:normal;">CSS POSITIONING QUIZ</span>
      </div>

      <div class="quiz-panel">
        <div class="top-bar">
          <div class="progress" id="progress">Question 1 / 10</div>
          <div class="timer" id="timer">08:00</div>
        </div>

        <div id="questionContainer" class="question-box"></div>

        <div class="nav-row">
          <button id="nextBtn">NEXT →</button>
          <button id="finishBtn">FINISH & SCORE</button>
          <button id="backBtn">← BACK</button>
        </div>

        <div id="resultBox">Complete all questions for your score!</div>
      </div>
    </div>
  </div>
</div>

<script>
  const TOTAL_TIME_SECONDS = 10 * 60;

  const questions = [
    {type:"mc", text:"1. Which CSS property sets the position of an element?", options:["display","position","float","margin"], correct:1},
    {type:"mc", text:"2. Which value makes an element stay in the normal flow?", options:["relative","static","absolute","fixed"], correct:1},
    {type:"mc", text:"3. Which positioning value places an element relative to its nearest positioned ancestor?", options:["relative","absolute","fixed","sticky"], correct:1},
    {type:"mc", text:"4. Which value makes an element stick to the viewport while scrolling?", options:["relative","absolute","fixed","static"], correct:2},

    {type:"fill", text:"5. Property used to move an element from the top?", correctText:"top"},
    {type:"fill", text:"6. Property used to move an element from the left?", correctText:"left"},
    {type:"fill", text:"7. Identify the position value that moves relative to normal position.", correctText:"relative"},
    {type:"fill", text:"8. Identify the position value fixed to viewport.", correctText:"fixed"},
    {type:"fill", text:"9. Which value keeps an element in flow but allows scrolling offset?", correctText:"sticky"},
    {type:"fill", text:"10. Which CSS property controls layering order?", correctText:"z-index"}
  ];

  let currentIndex = 0;
  let userAnswers = new Array(questions.length).fill(null);
  let remainingSeconds = TOTAL_TIME_SECONDS;
  let quizCompleted = false;
  let timerInterval = null;

  const questionContainer = document.getElementById("questionContainer");
  const progress = document.getElementById("progress");
  const timerDisplay = document.getElementById("timer");
  const nextBtn = document.getElementById("nextBtn");
  const finishBtn = document.getElementById("finishBtn");
  const backBtn = document.getElementById("backBtn");
  const resultBox = document.getElementById("resultBox");

  function formatTime(secs){
    const m = Math.floor(secs / 60);
    const s = secs % 60;
    return `${m.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`;
  }

  function updateTimerDisplay(){ timerDisplay.textContent = formatTime(remainingSeconds); }

  function startTimer(){
    if(timerInterval !== null || quizCompleted) return;
    updateTimerDisplay();
    timerInterval = setInterval(()=>{
      remainingSeconds = Math.max(0, remainingSeconds - 1);
      updateTimerDisplay();
      if(remainingSeconds <= 0){ clearInterval(timerInterval); timerInterval=null; finishQuiz(); }
    }, 1000);
  }

  function loadQuestion(index){
    const q = questions[index];
    progress.textContent = `Question ${index+1} / ${questions.length}`;
    questionContainer.innerHTML = `<div class="question-text">${q.text}</div>`;
    
    if(q.type==="mc"){
      const optionsDiv=document.createElement("div");
      optionsDiv.className="options";
      q.options.forEach((opt,i)=>{
        const label=document.createElement("label");
        const radio=document.createElement("input");
        radio.type="radio"; radio.name="mc"; radio.value=i;
        if(userAnswers[index]===i) radio.checked=true;
        label.appendChild(radio);
        label.appendChild(document.createTextNode(" "+opt));
        optionsDiv.appendChild(label);
      });
      questionContainer.appendChild(optionsDiv);
    } else {
      const input=document.createElement("input");
      input.type="text";
      input.className="fill-input";
      input.placeholder="Type your answer here...";
      if(userAnswers[index]!==null) input.value=userAnswers[index];
      questionContainer.appendChild(input);
    }
  }

  function saveCurrentAnswer(){
    if(quizCompleted) return;
    const q=questions[currentIndex];
    if(q.type==="mc"){
      const checked=document.querySelector('input[name="mc"]:checked');
      userAnswers[currentIndex]=checked?parseInt(checked.value):null;
    } else {
      const input=document.querySelector(".fill-input");
      userAnswers[currentIndex]=input?input.value.trim():"";
    }
  }

  function calculateScore(){
    let score=0;
    questions.forEach((q,i)=>{
      if(q.type==="mc" && userAnswers[i]===q.correct) score++;
      else if(q.type==="fill"){
        const ans=(userAnswers[i]||"").trim().toLowerCase();
        if(ans===q.correctText.toLowerCase()) score++;
      }
    });
    return score;
  }

  function finishQuiz(){
    if(quizCompleted) return;
    quizCompleted=true;
    saveCurrentAnswer();
    if(timerInterval){clearInterval(timerInterval); timerInterval=null;}
    const total=questions.length;
    const score=calculateScore();
    const pct=Math.round((score/total)*100);
    resultBox.innerHTML=`<strong>FINAL SCORE: ${score} / ${total}</strong><br><span style="font-size:8px;">${pct}% - CSS Positioning mastery logged!</span>`;
    resultBox.className="result-success";
    resultBox.style.display="block";
    nextBtn.style.display="none";
    finishBtn.style.display="none";
    backBtn.style.display="inline-block";
  }

  nextBtn.addEventListener("click",()=>{
    if(quizCompleted) return;
    saveCurrentAnswer();
    if(currentIndex<questions.length-1){
      currentIndex++;
      loadQuestion(currentIndex);
      if(currentIndex===questions.length-1){ nextBtn.style.display="none"; finishBtn.style.display="inline-block"; }
    }
  });

  finishBtn.addEventListener("click",finishQuiz);
  backBtn.addEventListener("click",()=>{window.location.href='../../../Webside/Student.html';});

  loadQuestion(currentIndex);
  updateTimerDisplay();
  startTimer();
</script>
</body>
</html>
