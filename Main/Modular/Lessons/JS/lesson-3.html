<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>MindCraft JS Lesson 3 Quiz</title>

<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%;font-size:10px;overflow:hidden;}
body{
    font-family:'Press Start 2P',cursive;
    background:linear-gradient(#87e4ff,#c8f7b0);
    padding:20px;
}

.quiz-container{
    max-width:1000px;
    margin:auto;
    height:calc(100vh - 40px);
    display:flex;
    align-items:center;
    justify-content:center;
    position:relative;
}

.wood-border{
    width:100%;
    max-width:900px;
    height:90vh;
    position:relative;
    background:#8b5a2b;
    border-radius:28px;
    padding:16px;
    box-shadow: inset -8px -8px 0 rgba(0,0,0,.3),0 12px 0 #5c3a1a;
}

.wood-border::before{
    content:'MINDCRAFT JS QUIZ';
    position:absolute;
    top:-14px;
    left:50%;
    transform:translateX(-50%);
    background:#8b5a2b;
    padding:6px 20px;
    font-size:11px;
    color:#ffd966;
    text-shadow:2px 2px #000;
    border-radius:10px;
    box-shadow:0 4px 0 #5c3a1a;
}

.quiz-content{
    height:100%;
    width:100%;
    background:linear-gradient(#8fe9ff 55%,#7dd37d);
    border-radius:16px;
    padding:24px;
    box-shadow:0 20px 50px rgba(0,0,0,.3);
    display:flex;
    flex-direction:column;
    position:relative;
    z-index:2;
}

.main-title{
    text-align:center;
    font-size:16px;
    color:#006400;
    margin-bottom:20px;
    text-shadow:3px 3px #fff;
}

.top-bar{
    display:flex;
    justify-content:space-between;
    font-size:9px;
    margin-bottom:16px;
}

.question-box{
    background:#fff3cd;
    border:3px solid #c9a227;
    border-radius:12px;
    padding:20px;
    box-shadow:0 6px 0 #c9a227;
    margin-bottom:20px;
    line-height:1.6;
    max-height:300px;
}

.question-text{
    font-size:11px;
    font-weight:bold;
    margin-bottom:14px;
}

.options label{
    display:block;
    margin:10px 0;
    font-size:9px;
    cursor:pointer;
}

.options input{
    margin-right:10px;
    transform:scale(1.3);
    accent-color:#006400;
}

.fill-input{
    width:100%;
    padding:12px;
    border:3px solid #c9a227;
    border-radius:10px;
    font-family:'Press Start 2P';
    font-size:9px;
    box-shadow:0 4px 0 #c9a227;
}

.nav-row{
    display:flex;
    justify-content:center;
    gap:16px;
    margin-top:20px;
}

button{
    font-family:'Press Start 2P';
    background:#a56b34;
    color:#fff;
    border:none;
    padding:12px 20px;
    border-radius:12px;
    box-shadow: inset -4px -4px 0 rgba(0,0,0,.25),0 6px 0 #5c3a1a;
    cursor:pointer;
    font-size:8px;
    min-width:120px;
    transition:transform 0.1s;
}

button:hover:not(:disabled){ transform:translateY(-2px); }
button:disabled{
    opacity:0.5;
    cursor:not-allowed;
    transform:none;
    box-shadow: inset -4px -4px 0 rgba(0,0,0,.25),0 2px 0 #5c3a1a;
}

#nextBtn{ background:#a56b34; }
#finishBtn{ 
    background:#d4af37; 
    box-shadow: inset -4px -4px 0 rgba(0,0,0,.25),0 6px 0 #b8860b;
    display:none;
}

#backBtn{
    background:#ff6b35;
    box-shadow: inset -4px -4px 0 rgba(0,0,0,.25),0 6px 0 #cc5533;
    display:none;
}

#resultBox{
    display:none;
    background:#d9ead3;
    border:4px solid #6aa84f;
    color:#006400;
    border-radius:12px;
    padding:20px;
    text-align:center;
}
.result-success{ display:block !important; background:#d9ead3 !important; border:4px solid #6aa84f !important; color:#006400 !important; }
</style>
</head>

<body>
<div class="quiz-container">
<div class="wood-border">
<div class="quiz-content">

<div class="main-title">
LESSON 3<br>
<span style="font-size:12px;">COMMENTS QUIZ</span>
</div>

<div class="top-bar">
<div id="progress">Question 1 / 15</div>
<div id="timer">10:00</div>
</div>

<div id="questionContainer" class="question-box"></div>

<div class="nav-row">
<button id="nextBtn">NEXT →</button>
<button id="finishBtn">FINISH</button>
<button id="backBtn">← BACK</button>
</div>

<div id="resultBox">Complete all questions for your score!</div>

</div>
</div>
</div>

<script>
const questions=[
{type:"mc",text:"1. Which symbol starts a single-line comment in JavaScript?",options:["/*","*/","//","#"],correct:2},
{type:"mc",text:"2. What happens to code after // on the same line?",options:["Executes twice","Ignored","Variable","HTML"],correct:1},
{type:"mc",text:"3. Correct multi-line comment syntax?",options:["/**/","/* */","// /*","*/ //"],correct:1},
{type:"mc",text:"4. Best use of single-line comments?",options:["Long docs","Quick notes","Headers","Disable lots"],correct:1},
{type:"mc",text:"5. Multi-line comments are best for:",options:["One word","Descriptions/disabled code","Variables","CSS"],correct:1},
{type:"mc",text:"6. Good comments explain:",options:["What","WHY","Date","Color"],correct:1},
{type:"mc",text:"7. Which is a BAD comment?",options:["Remove fee","Set x to 10","Process students","TODO"],correct:1},
{type:"mc",text:"8. JSDoc starts with?",options:["/**","/*","//","*/"],correct:0},
{type:"mc",text:"9. JSDoc helps VS Code with:",options:["Colors","Autocomplete","Speed","Files"],correct:1},
{type:"mc",text:"10. Comments are used for:",options:["Decor","Docs/TODOs","Secrets","Slow code"],correct:1},
{type:"fill",text:"11. Single-line comments use ________.",correctText:"//"},
{type:"fill",text:"12. Multi-line comments start with ________.",correctText:"/*"},
{type:"fill",text:"13. Professional documentation comments are ________.",correctText:"jsdoc"},
{type:"fill",text:"14. Good comments explain the ________.",correctText:"why"},
{type:"fill",text:"15. JSDoc uses @________ for parameters.",correctText:"param"}
];

const TOTAL_TIME_SECONDS = 10 * 60;

let currentIndex=0;
let userAnswers=new Array(questions.length).fill(null);
let remainingSeconds=TOTAL_TIME_SECONDS;
let quizCompleted=false;
let timerInterval=null;

const questionContainer=document.getElementById("questionContainer");
const progress=document.getElementById("progress");
const timerDisplay=document.getElementById("timer");
const nextBtn=document.getElementById("nextBtn");
const finishBtn=document.getElementById("finishBtn");
const backBtn=document.getElementById("backBtn");
const resultBox=document.getElementById("resultBox");

function formatTime(secs){
    const m=Math.floor(secs/60);
    const s=secs%60;
    return `${m.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`;
}

function updateTimerDisplay(){ timerDisplay.textContent=formatTime(remainingSeconds); }

function startTimer(){
    if(timerInterval!==null||quizCompleted||remainingSeconds<=0) return;
    timerInterval=setInterval(()=>{
        remainingSeconds--;
        updateTimerDisplay();
        if(remainingSeconds<=0){
            clearInterval(timerInterval);
            timerInterval=null;
            if(!quizCompleted) finishQuiz();
        }
    },1000);
}

function loadQuestion(index){
    const q=questions[index];
    questionContainer.innerHTML=`<div class="question-text">${q.text}</div>`;
    if(q.type==="mc"){
        const optionsDiv=document.createElement("div");
        optionsDiv.className="options";
        q.options.forEach((opt,i)=>{
            const label=document.createElement("label");
            const radio=document.createElement("input");
            radio.type="radio";
            radio.name="mc";
            radio.value=i;
            if(userAnswers[index]===i) radio.checked=true;
            label.appendChild(radio);
            label.appendChild(document.createTextNode(` ${opt}`));
            optionsDiv.appendChild(label);
        });
        questionContainer.appendChild(optionsDiv);
    } else {
        const input=document.createElement("input");
        input.type="text";
        input.id="fillInput";
        input.className="fill-input";
        input.placeholder="Type your answer here...";
        if(userAnswers[index]) input.value=userAnswers[index];
        questionContainer.appendChild(input);
    }
}

function updateUI(){
    loadQuestion(currentIndex);
    if(quizCompleted){
        progress.textContent="Quiz Complete!";
        timerDisplay.textContent="00:00";
        nextBtn.style.display="none";
        finishBtn.style.display="none";
        backBtn.style.display="inline-block"; // only after finishing
        const score=calculateScore();
        const percentage=Math.round((score/questions.length)*100);
        resultBox.innerHTML=`<strong>FINAL SCORE: ${score} / ${questions.length}</strong><br><span style="font-size:8px;">${percentage}% - Comments mastery logged!</span>`;
        resultBox.className="result-success";
        resultBox.style.display="block";
    } else {
        progress.textContent=`Question ${currentIndex+1} / ${questions.length}`;
        nextBtn.style.display=(currentIndex===questions.length-1)?"none":"inline-block";
        finishBtn.style.display=(currentIndex===questions.length-1)?"inline-block":"none";
        backBtn.style.display="none"; // hide back until quiz completed
        resultBox.style.display="none";
    }
}

function saveCurrentAnswer(){
    if(quizCompleted) return;
    const q=questions[currentIndex];
    if(q.type==="mc"){
        const checked=document.querySelector('input[name="mc"]:checked');
        userAnswers[currentIndex]=checked?parseInt(checked.value):null;
    } else {
        const input=document.getElementById("fillInput");
        userAnswers[currentIndex]=input?input.value.trim():"";
    }
}

function calculateScore(){
    let score=0;
    questions.forEach((q,i)=>{
        if(q.type==="mc"){
            if(userAnswers[i]===q.correct) score++;
        } else {
            const user=(userAnswers[i]||"").trim().toLowerCase();
            const correct=q.correctText.toLowerCase();
            if(user===correct) score++;
        }
    });
    return score;
}

function finishQuiz(){
    if(quizCompleted) return;
    quizCompleted=true;
    saveCurrentAnswer();
    if(timerInterval){ clearInterval(timerInterval); timerInterval=null; }
    updateUI();
}

// Event listeners
nextBtn.addEventListener("click", ()=>{
    if(quizCompleted) return;
    saveCurrentAnswer();
    if(currentIndex<questions.length-1){
        currentIndex++;
        updateUI();
    }
});

finishBtn.addEventListener("click", ()=>finishQuiz());

backBtn.addEventListener("click", ()=>{
    window.location.href="../../../Webside/Student.html";
});

// start fresh
updateTimerDisplay();
updateUI();
startTimer();
</script>
</body>
</html>
